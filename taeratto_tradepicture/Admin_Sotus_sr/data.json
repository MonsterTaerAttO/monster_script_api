{
    "client":"ESX=nil;PlayerData={}Citizen.CreateThread(function()while ESX==nil do TriggerEvent('esx:getSharedObject',function(a)ESX=a end)Citizen.Wait(200)end;while ESX.GetPlayerData().inventory==nil do Citizen.Wait(200)end;PlayerData=ESX.GetPlayerData()loadAllIcons()end)function loadAllIcons()while PlayerData.inventory==nil do Citizen.Wait(500)print('check PlayerData inventory nil')PlayerData=ESX.GetPlayerData()end;local b=PlayerData.inventory;while b==nil do Citizen.Wait(250)print('inventoryItem nil')b=PlayerData.inventory end;for c=1,#b,1 do Citizen.CreateThread(function()local d=b[c]local e=CreateRuntimeTxd(d.name)Citizen.Wait(250)CreateRuntimeTextureFromImage(e,d.name,Config.PATH..d.name..'.png')print('Register Item: '..d.name)Citizen.Wait(250)end)Citizen.Wait(100)end end;local f=0;function SetTimeOut()Citizen.CreateThread(function()while f>0 do Citizen.Wait(f)f=0 end end)end;function playAnim(g,h,i,j)Citizen.CreateThread(function()local k=GetPlayerPed(GetPlayerFromServerId(g))RequestAnimDict(h)while not HasAnimDictLoaded(h)do Citizen.Wait(100)end;TaskPlayAnim(k,h,i,1.0,-1.0,j,49,1,false,false,false)RemoveAnimDict(h)end)end;RegisterNetEvent('taeratto_icon:client:playAnim')AddEventHandler('taeratto_icon:client:playAnim',function(l,m)playAnim(l,'mp_common','givetake1_a',2500)Citizen.Wait(200)playAnim(m,'mp_common','givetake1_a',2500)end)RegisterNetEvent('taeratto_icon:client:ShowIcon')AddEventHandler('taeratto_icon:client:ShowIcon',function(n)local l=n.src;local m=n.target;ShowIconOnPlayer(l,n.itemName)ShowIconOnPlayer(m,n.itemName)end)function ShowIconOnPlayer(o,p)f=1500;SetTimeOut()print('ShowIconOnPlayer')while f>0 do Citizen.Wait(0)local g=PlayerPedId()local k=GetPlayerPed(GetPlayerFromServerId(o))local q=GetEntityCoords(g)local r=GetEntityCoords(k,true)if Vdist(q.x,q.y,q.z,r.x,r.y,r.z)<20.0 then local s=GetPedBoneCoords(k,0x188e)DrawImage3D(p,p,s.x,s.y,s.z,0.06,0.08,0.0,255,255,255,255,k)end end end;function DrawImage3D(t,u,v,w,x,y,z,A,B,C,D,E,g)local F,G,H=World3dToScreen2d(v,w,x)local I,J,K=table.unpack(GetGameplayCamCoords())local L=GetDistanceBetweenCoords(I,J,K,v,w,x,true)if F then local y=1/L*y;local z=1/L*z;local M=1/GetGameplayCamFov()*100;local y=y*M;local z=z*M;local N=GetEntityCoords(g,true)local O=StartShapeTestRay(N.x,N.y,N.z,v,w,x,-1,g,0)local P,P,P,P,Q=GetShapeTestResult(O)if Q==0 or Q==nil then DrawSprite(t,u,G,H,y,z,A,B,C,D,E)end end end",
    "server":"ESX=nil;TriggerEvent('esx:getSharedObject',function(a)ESX=a end)RegisterServerEvent('esx:giveInventoryItem')AddEventHandler('esx:giveInventoryItem',function(b,c,d,e)local f=ESX.GetPlayerFromId(b)local g=f.getInventoryItem(d)if c=='item_standard'then local f=ESX.GetPlayerFromId(b)local g=f.getInventoryItem(d)if g.count+e<=g.limit then TriggerClientEvent('taeratto_icon:client:playAnim',-1,source,b)TriggerClientEvent('taeratto_icon:client:ShowIcon',-1,{src=source,target=b,itemName=d})end elseif c=='item_money'then elseif c=='item_account'then elseif c=='item_weapon'then end end)"
}
